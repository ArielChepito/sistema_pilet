<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core" 
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough" 
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    
    <ui:composition template="../WEB-INF/resources/fragmentos/comun.xhtml">
        <!-- Título de la página -->
        <ui:param name="pageTitl" value="::: Página Solicitud Beca :::"/>
        <ui:param name="pageNomb" value="Página Solicitud Beca"/>
        <ui:param name="pageDesc" value="Mantenimiento de Solicitud Beca"/>
        <!-- Activar el link del menú -->
        <ui:param name="actiMenu1" value=""/>
        <ui:param name="actiAlumnos" value="active"/>
        <!-- Scripts personalizados -->
        <ui:define name="CustomScripts">
        <!--Plugins Selector de Fecha-->
        <h:outputStylesheet library="css" name="datepicker3.css"/>
        <h:outputScript library="js" name="bootstrap-datepicker.js"/>
        <h:outputScript library="js" name="bootstrap-datepicker.es.js"/>
        <!--Plugins Select-->
        <h:outputStylesheet library="css" name="bootstrap-select.css"/>
        <h:outputScript library="js" name="bootstrap-select.js"/>
        <!--Plugins custom-->
        <h:outputScript library="js" name="custom/general.js"/>
        <ui:define name="CustomScripts">
        <!--Plugins custom-->
        <h:outputScript library="js" name="custom/slid.js"/>
        </ui:define>
        </ui:define>
        <!-- Elementos propios del boby -->
        <ui:define name="body">
        <style>
            .field-error
            {
                color: #a94442; 
                display: inline;
                font-size: 10px;
            }
            .field-error:first-letter
            {
                text-transform: capitalize;
                color: #003399;
            }
            .form-group
            {
                margin-bottom: 5px !important;
            }
            .bootstrap-select > .btn {
                padding-top: 2px;
                padding-bottom: 2px;
            }
            .simple {
                border-left: 6px solid grey;
                background-color: white;
            }  
            .btonTabl
            {
                
                padding-left: 2cm;
            }
            .block-update-card {
  height: 100%;
  border: 1px #FFFFFF solid;
  width: 380px;
  float: left;
  margin-left: 10px;
  margin-top: 0;
  padding: 0;
  box-shadow: 1px 1px 8px #d8d8d8;
  background-color: #FFFFFF;
}
.block-update-card .h-status {
  width: 100%;
  height: 7px;
  background: repeating-linear-gradient(45deg, #606dbc, #606dbc 10px, #465298 10px, #465298 20px);
}
.block-update-card .v-status {
  width: 5px;
  height: 80px;
  float: left;
  margin-right: 5px;
  background: repeating-linear-gradient(45deg, #606dbc, #606dbc 10px, #465298 10px, #465298 20px);
}
.block-update-card .update-card-MDimentions {
  width: 80px;
  height: 80px;
}
.block-update-card .update-card-body {
  margin-top: 10px;
  margin-left: 5px;
}
.block-update-card .update-card-body h4 {
  color: #737373;
  font-weight: bold;
  font-size: 13px;
}
.block-update-card .update-card-body p {
  color: #737373;
  font-size: 12px;
}
.block-update-card .card-action-pellet {
  padding: 5px;
}
.block-update-card .card-action-pellet div {
  margin-right: 10px;
  font-size: 15px;
  cursor: pointer;
  color: #dddddd;
}
.block-update-card .card-action-pellet div:hover {
  color: #999999;
}
.block-update-card .card-bottom-status {
  color: #a9a9aa;
  font-weight: bold;
  font-size: 14px;
  border-top: #e0e0e0 1px solid;
  padding-top: 5px;
  margin: 0px;
}
.block-update-card .card-bottom-status:hover {
  background-color: #dd4b39;
  color: #FFFFFF;
  cursor: pointer;
}

/*
Creating a block for social media buttons
*/
.card-body-social {
  font-size: 30px;
  margin-top: 10px;
}
.card-body-social .git {
  color: black;
  cursor: pointer;
  margin-left: 10px;
}
.card-body-social .twitter {
  color: #19C4FF;
  cursor: pointer;
  margin-left: 10px;
}
.card-body-social .google-plus {
  color: #DD4B39;
  cursor: pointer;
  margin-left: 10px;
}
.card-body-social .facebook {
  color: #49649F;
  cursor: pointer;
  margin-left: 10px;
}
.card-body-social .linkedin {
  color: #007BB6;
  cursor: pointer;
  margin-left: 10px;
}

.music-card {
  background-color: green;
}
        </style>
            <div class="row">
                <h:panelGroup id="container">
                    <ui:fragment id="FragTabl" rendered="#{becasBean.showCarn == false and becasBean.showFich == false}">
                        <fieldset>
                            <div class="col-md-12 col-xs-12">
                                <div class="panel panel-default">
                                    <div class="panel-heading">Tabla de Datos</div>
                                    <div class="panel-body">
                                        <h:panelGroup id="ContRegi">
                                            <div id="toolTablRegi">
                                                <h:form>
                                                    <!--Form exclusivo para los remotos-->

                                                    <div class="btn-group">
                                                        <h:commandLink id="btonTabl" class="btn btn-success">
                                                            <p:ajax listener="#{becasBean.toogCarn()}" process="@form" update="@form :container" oncomplete="INIT_OBJE();" />
                                                            <i class="fa fa-plus"/> Agregar una nueva solicitud de beca
                                                        </h:commandLink>
                                                    </div>
                                                </h:form>
                                            </div>
                                            <h:dataTable pt:data-id="TablRegi" id="TablRegi" value="#{becasBean.listBeca}"
                                                         var="fila" class="boottable" pt:data-toolbar="#toolTablRegi"
                                                         styleClass="table-hover table-bordered table-condensed table-striped table-responsive"
                                                         pt:data-show-refresh="false" pt:data-show-toggle="false" pt:data-show-columns="false" 
                                                         pt:data-search="true" pt:data-pagination="true" pt:data-page-list="[5, 10, 20, 50]"
                                                         pt:data-click-to-select="true"  pt:data-select-item-name="radio"
                                                         pt:data-single-select="true">                                
                                                <h:column pt:data-field="state" pt:data-checkbox="true">
                                                </h:column>
                                                <h:column pt:data-align="right" pt:data-sortable="true" pt:data-field="id">
                                                    <f:facet name="header">Código</f:facet>
                                                    <h:outputText value="#{fila.codiSoliBeca.codiSoliBeca}"/>
                                                </h:column>
                                                <h:column pt:data-sortable="true">
                                                    <f:facet name="header">Empresa</f:facet> 
                                                    <h:panelGroup class="label label-info" rendered="#{fila.codiSoliBeca.codiEmpr.nombEmpr eq null}">
                                                   <i class="fa fa-lock"/> Sin Empresa</h:panelGroup>
                                                    <h:panelGroup class="label label-default" rendered="#{fila.codiSoliBeca.codiEmpr.nombEmpr ne null}">
                                                  <h:outputText value="#{fila.codiSoliBeca.codiEmpr.nombEmpr}"/></h:panelGroup>
                                                </h:column>
                                                <h:column pt:data-sortable="true">
                                                    <f:facet name="header">Alumno</f:facet>
                                                    <h:outputText value="#{fila.codiSoliBeca.nombAlum}"/>
                                                </h:column>
                                                <h:column pt:data-sortable="true">
                                                    <f:facet name="header">Grado Alumno</f:facet>
                                                    <h:outputText value="#{fila.codiSoliBeca.codiGrad.nombGrad}"/>
                                                </h:column>
                                                <h:column pt:data-sortable="true">
                                                    <f:facet name="header">Fecha Solicitud</f:facet>
                                                    <h:outputText value="#{fila.codiSoliBeca.fechSoliBeca}">
                                                       <f:convertDateTime pattern="dd/MM/yyyy" timeZone="GMT-6"/>
                                                    </h:outputText>
                                                </h:column>
                                                <h:column pt:data-sortable="true">
                                                    <f:facet name="header">Estado beca</f:facet> 
                                                    <h:panelGroup class="label label-success" rendered="#{fila.codiTipoEsta.codiTipoEsta eq 1}">
                                                        <i class="fa fa-unlock"/> Activo</h:panelGroup>
                                                    <h:panelGroup class="label label-info" rendered="#{fila.codiTipoEsta.codiTipoEsta eq 3}">
                                                        <i class="fa fa-unlock"/> Historial</h:panelGroup>
                                                    <h:panelGroup class="label label-danger" rendered="#{fila.codiTipoEsta.codiTipoEsta eq 2}">
                                                        <i class="fa fa-unlock"/> Inactivo</h:panelGroup>
                                                    <h:panelGroup class="label label-warning" rendered="#{fila.codiTipoEsta.codiTipoEsta eq 4}">
                                                        <i/> Evaluando</h:panelGroup>
                                                </h:column>
                                            </h:dataTable>
                                        </h:panelGroup>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </ui:fragment>
                    <ui:fragment id="FragCarnet" rendered="#{becasBean.showCarn == true and becasBean.showFich == false}">                    
                        <h:form class="form-horizontal">
                            <fieldset>
                                <div class="col-md-12 col-xs-12">  
                                   <div class="panel panel-primary">
                                       <div class="panel-heading">Nueva solicitud</div>
                                       <div class="panel-body">
                                           <fieldset>                                
                                                   <h:outputLabel  for="carnet" value="Ingrese el carnet del alumno: "/>
                                                   <div class="input-group col-xs-3">                                                    
                                                       <h:message for="carnet" errorClass="field-error" />
                                                       <h:inputText id="carnet" value="#{becasBean.carnet}" class="form-control  input-lg" required="true" requiredMessage="Debe Registrar El carnet"></h:inputText>
                                                       <span class="input-group-addon">
                                                           <h:commandLink id="btonCarn" class="btn btn-default">
                                                                   <p:ajax listener="#{becasBean.consW()}" process="@form" update="@form :container" global="true"/>
                                                                   <i class="fa fa-search"/>
                                                           </h:commandLink>
                                                       </span>

                                                   </div>                                                                            
                                           </fieldset>                               
                                       </div>
                                     </div>   
                                   </div>
                            </fieldset>
                          </h:form>
                    </ui:fragment>
                    <ui:fragment id="FragFicha" rendered="#{becasBean.showFich}">                    
                        <h:form id="FormRegi" class="form-horizontal">
                            <fieldset>
                                <div class="col-md-12 col-xs-12">  
                                    <div class="panel panel-primary">
                                          Carnet: #{becasBean.objeSoli.carnAlum}
                                            Nombre: #{becasBean.objeSoli.nombAlum}                            
                                            Grado: #{becasBean.objeSoli.codiGrad.nombGrad}
                                            Especialidad: #{becasBean.objeSoli.espeAlum}
                                            Grupo: #{becasBean.objeSoli.grupAlum}
                                            Sección academica: #{becasBean.objeSoli.seccAcad}
                                            Seccion tecnica : #{becasBean.objeSoli.seccTecn}
                                        
                                    </div>
                                </div>
                            </fieldset>

                         </h:form>
                    </ui:fragment>
                </h:panelGroup>
            </div>
        </ui:define>
    </ui:composition>
</html>
